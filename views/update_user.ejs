
<!-- include header -->
<%- include('include/header') %>
<!-- /include header -->

  <!-- Main Site -->
  <main id="site-main">
    <div class="container">
        <div class="box-nav d-flex justify-between">
           <div class="filter">
               <a href="/index"><i class="fas fa-angle-double-left"></i> All Users</a>
           </div>
        </div>
        <div class="form-title text-center">
            <h2 class="text-dark">Update User</h2>
            <span class="text-light">Use the below form to Update an account</span>
        </div>

        <!-- add user form -->
         <!-- form handling -->
 <form method="PUT" id="update_user" name="update-form" onsubmit="return validateBasic1()" >
    <div class="new_user">
        <div class="form-group">
            <label for="name" class="text-light">Name</label>
            <input type="hidden" name="id" value="<%= user._id %>">
            <input type="text" name="name" value="<%= user.name %>" placeholder="Mark Stoenis">
        </div>
        <div class="form-group">
            <label for="Email" class="text-light">Email</label>
            <input type="text" name="email" value="<%= user.email %>" placeholder="example@gmail.com">
        </div>

        
        <div class="form-group">
            <button type="submit" class="btn text-dark update">Save</button>
        </div>

    </div>
</form>
       
    </div>
</main>
<!-- /Main Site -->
<script>

        
    function validateBasic1() { 
    var name = document.forms["update-form"]["name"].value.trim();
    var mail = document.forms["update-form"]["email"].value.trim();  
   
    if (name === "" || mail === "" ) {
        alert("Please fill all fields.");
        return false;
    }
    // Validate email
    var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(mail)) {       
        alert("Invalid email address.");         
        return false;    
    }     
    // Validate name
    var nameRegex = /^[A-Za-z\s]+$/;
    if (!nameRegex.test(name)) {
        alert("Name should only contain letters and spaces.");
        return false;
    }
    return true;
}
</script>
<!-- include footer -->
<%- include('include/footer') %>
<!-- /include footer -->